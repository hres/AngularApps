<form [formGroup]="materialListForm">
    <div formArrayName="materials">
      <control-messages *ngIf="materialsFormArr.errors"
                    [showError]="showErrors"
                    [control]="materialsFormArr | formControl"
                    label="error.msg.materialOneRecord"
                    type="least_one_rec_error"
                    tableId="materialListTable"
                    [hidden]="true">
      </control-messages>

      <lib-accordion [rowsFormArray]="materialsFormArr" [accordionHeadingMsgKey]="'heading.biological.material'" [accordionHeadingSupp]="['materialName']" 
      (rowClicked)="handleRowClick($event)">
    
      <ng-template #tmpl let-recordRow let-idx="i">
        <!-- ==={{recordRow.get('id').value}}===
        === index = {{idx}} ,  === -->
        <app-material-item [cRRow]="recordRow" [j]="idx" (saveRecord)="saveMaterialRecord($event)"
          (deleteRecord)="deleteMaterialRecord($event)" (revertRecord)="revertMaterial($event)" (error)="showError($event)">
        </app-material-item>
        <!-- <company-contact-record 
          [cRRow]="recordRow" [isInternal]="isInternal"
          [languageList]="languageList" [contactStatusList]="contactStatusList" [showErrors]="showErrors" [lang]="lang"
          [helpTextSequences]="helpTextSequences" (saveRecord)="saveContactRecord($event)"
          (errors)="updateErrorList($event)" (revertRecord)="revertContact($event)"
          (deleteRecord)="deleteContact($event)"></company-contact-record> -->
      </ng-template>
    
    </lib-accordion>
  
    <div class="row mrgn-tp-md mrgn-bttm-lg">
      <div class="btn-group-sm col-md-12 text-left">
        <button class="btn btn-primary" (click)="addMaterial()" id="addMaterialBtn" [disabled]="disableAddButton()"> <!--[disabled]="disableAddButton()"-->
          {{'add.material'|translate}}
        </button>
      </div>
    </div>
    
    <!-- <button (click)="coaddNewContact(comp.get('projects'))">Add new Project</button> -->
    <pre>{{materialListForm.value | json}}</pre>
    </div>
  </form>