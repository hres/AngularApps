<div id="{{compId}}" *ngIf="hiddenSummary">
  <section class="alert alert-danger" tabindex="-1" [ngSwitch]="hdingLevel">
    <h1 *ngSwitchCase="'h1'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h1>
    <h2 *ngSwitchCase="'h2'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h2>
    <h3 *ngSwitchCase="'h3'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h3>
    <h4 *ngSwitchCase="'h4'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h4>
    <h5 *ngSwitchCase="'h5'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h5>
    <h6 *ngSwitchCase="'h6'">
      <ng-container *ngTemplateOutlet="sharedHeadingContent"></ng-container>
    </h6>

    <ng-template #sharedHeadingContent>
      <!--<span>For</span>--><span> {{headingPreamble |translate: {seqnumber: headingPreambleParams} }}</span>
      <span>{{'error.found.because'|translate}}</span>
      <span>{{errorList.length}}</span>
      <span *ngIf="errorList?.length>1">{{'error.found.plural'|translate}}</span>
      <span *ngIf="errorList?.length<2">{{'error.found.singular'|translate}}</span>
    </ng-template>

    <ul *ngFor="let parentError of errors | keys">
      <ng-container *ngFor="let controlError of parentError.value.controls">
        <li *ngIf="controlError.type==='component_error'">
          <a href="#{{controlError.componentId}}" target="_self" (click)="processEvents(controlError)">{{'error' | translate: {number:controlError.errorNumber} }}&nbsp;{{controlError.label|translate}}</a>
        </li>
        <li *ngIf="controlError.type==='least_one_rec_error'">
          <a href="#{{controlError.tableId}}" target="_self" (click)="processEvents(controlError)">{{'error' | translate: {number:controlError.errorNumber} }}&nbsp;{{controlError.label|translate}}</a>
        </li>
        <li *ngIf="controlError.type!=='component_error' && controlError.type!='least_one_rec_error'">
          <a href="#{{controlError.controlId}}" target="_self" (click)="processEvents(controlError)">
            {{'error' | translate: {number:controlError.errorNumber} }}
            
              @if(controlError.compRef.translatedParentLabel) {
                {{controlError.compRef.translatedParentLabel}}&nbsp;&#8208;&nbsp;
              }
            
            {{controlError.compRef.label | translate}}&nbsp;&#8208;&nbsp;{{ getValidatorErrorMessageKey(controlError.compRef.currentError) | translate: controlError.compRef.errorParams}}
          </a>
        </li>
      </ng-container>
    </ul>
  </section>
  <!-- <pre>{{errors|json}}</pre>-->
  <!-- <pre *ngFor="let parentError of errors | keys"></pre>-->
</div>
